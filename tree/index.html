<!DOCTYPE html>
<html style="height: 100%;width:100%">

<head>
    <meta charset="utf-8">
</head>

<body style="height: 100%; width:100%">
    <div id="chart-panel" style="height: 100%;width: 100%"></div>
    <script type="text/javascript" src="./echarts.js"></script>

    <script type="text/javascript">
        var dom = document.getElementById("chart-panel");
        var myChart = echarts.init(dom);
        var option;
        var app = {};
        option = {
            tooltip: {
                trigger: 'item',
                triggerOn: 'mousemove',
                color: '#fff',
                backgroundColor: 'skyblue',
                borderColor: 'skyblue',
            },
            animationDurationUpdate: 1500,
            animationEasingUpdate: 'quinticInOut',
            series: [
                {
                    type: 'tree',
                    symbolSize: (value, params) => {
                        console.log('value: ', value, params);
                        if(params.name == '根节点'){
                            return [100, 50]
                        }
                        return [30, 75]
                    },
                    symbol: 'roundRect',
                    edgeShape: 'polyline',
                    edgeForkPosition: '50%',
                    edgeSymbol: ['circle', 'arrow'],
                    edgeSymbolSize: [5, 5],
                    edgeLabel: {
                        normal: {
                            textStyle: {
                                fontSize: 18,
                            },
                        },
                    },
                    initialTreeDepth: 2,
                    orient: 'vertical',
                    itemStyle: {
                        color: '#fff',
                        borderColor: '#FFC125',
                    },
                    expandAndCollapse: false,
                    animationDuration: 550,
                    animationDurationUpdate: 750,
                    //线条的颜色
                    lineStyle: {
                        normal: {
                            opacity: 0.9,
                            color: '#53B5EA',
                            type: 'solid',
                            width: 1,
                        },
                    },
                    label: {
                        show: true,
                        position: 'inside',
                        textStyle: {
                            fontSize: 15,
                            color: '#333',
                        },
                        // formatter: function(arg){
                        //     return arg.name.split('').join('\n');
                        // }
                    },
                    leaves: {
                        label: {
                            position: 'inside',
                            color: '#333'
                        },
                        itemStyle: {
                            color: '#fff',
                            borderColor: '#dfdfdf',
                        },
                    },
                    data: [
                        {
                            name: '根节点',
                            url: '',
                            // 根节点样式设置
                            itemStyle: {
                                color: '#fff',
                                borderColor: '#18a849',
                                fontColor: '#18a849'
                            },
                            children: [
                                {
                                    name: '子节点1',
                                    itemStyle: {
                                        color: '#fff',
                                        borderColor: '#5470C6',
                                    },
                                    label: {
                                        formatter: function(arg){
                                            return arg.name.split('').join('\n');
                                        }
                                    }
                                },
                                {
                                    name: '子节点2',
                                    label: {
                                        formatter: function(arg){
                                            return arg.name.split('').join('\n');
                                        }
                                    }
                                },
                            ],
                        },
                    ],
                },
            ],
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>
</body>

</html>